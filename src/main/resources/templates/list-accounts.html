<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Banking Directory</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        tr:hover { background-color: #f1f1f1; }
        .btn-custom { background-color: #007bff; color: white; }
        .btn-custom:hover { background-color: #0056b3; transform: scale(1.05); }
        .card { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); padding: 2rem; border-radius: 15px; }
        h3 { font-size: 1.75rem; font-weight: bold; color: #343a40; }
        .table-dark { background-color: #343a40 !important; color: white; }
        .btn-success:hover, .btn-danger:hover { transform: scale(1.05); }
    </style>
</head>
<body>
<div class="container my-5">
    <div class="card">
        <div class="card-body">
            <h3 class="text-center mb-4">Account Directory</h3>
            <div class="d-flex justify-content-between align-items-center mb-3">
                <p class="text-muted mb-0">Manage your accounts below</p>
                <a th:href="@{/api/form-account}" class="btn btn-custom btn-sm">
                    <i class="fas fa-plus-circle"></i> NEW ACCOUNT
                </a>
            </div>
            <div class="table-responsive">
                <table class="table table-bordered table-hover table-striped">
                    <thead class="table-dark">
                    <tr>
                        <th><a th:href="@{/api/accounts(sort=${sortField == 'id' && sortDir == 'asc' ? 'id,desc' : 'id,asc'})}" class="text-white">ID</a></th>
                        <th><a th:href="@{/api/accounts(sort=${sortField == 'accNumber' && sortDir == 'asc' ? 'accNumber,desc' : 'accNumber,asc'})}" class="text-white">ACC Number</a></th>
                        <th><a th:href="@{/api/accounts(sort=${sortField == 'firstName' && sortDir == 'asc' ? 'firstName,desc' : 'firstName,asc'})}" class="text-white">First Name</a></th>
                        <th><a th:href="@{/api/accounts(sort=${sortField == 'lastName' && sortDir == 'asc' ? 'lastName,desc' : 'lastName,asc'})}" class="text-white">Last Name</a></th>
                        <th><a th:href="@{/api/accounts(sort=${sortField == 'balance' && sortDir == 'asc' ? 'balance,desc' : 'balance,asc'})}" class="text-white">Balance</a></th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="account : ${accounts}">
                        <td th:text="${account.id}">1</td>
                        <td th:text="${account.accNumber}">1012345678</td>
                        <td th:text="${account.firstName}">John</td>
                        <td th:text="${account.lastName}">Doe</td>
                        <td th:text="${account.balance}">1000.00</td>
                        <td>
                            <a th:href="@{/api/update-account(accountId=${account.id})}" class="btn btn-success btn-sm">Update</a>
                            <a th:href="@{/api/delete-account(accountId=${account.id})}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this account?')">Delete</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</body>
</html>
